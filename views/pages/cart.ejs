
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart</title>
    <link rel="stylesheet" href="/css/cart.css">
</head>
<body>

<section class="cart container">
    <div class="header">
        <h2>Your Cart</h2>
    </div>

    <table class="cart-table">
        <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Subtotal</th>
        </tr>

        <% cart.forEach(function(item){ %>
        <tr>
            <td>
                <div class="product-info">
                    <img src="/images/<%= item.image %>" alt="<%= item.name %>">
                    <div class="details">
                        <p class="product-name"><%= item.name %></p>
                        <small class="product-price">$<%= item.price %></small>
                        <form method="POST" action="/remove_product">
                            <input type="hidden" name="id" value="<%= item.id %>">
                            <button class="remove-btn">Remove</button>
                        </form>
                    </div>
                </div>
            </td>

            <td>
                <form method="POST" action="/update_quantity">
                    <input type="hidden" name="id" value="<%= item.id %>">
                    <div class="qty-box">
                        <button type="submit" name="decrease_product_quantity" value="decrease" class="qty-btn">-</button>
                        <input type="number" name="quantity" value="<%= item.quantity %>" class="qty-input" readonly>
                        <button type="submit" name="increase_product_quantity" value="increase" class="qty-btn">+</button>
                    </div>
                </form>
            </td>

            <td>
                <span class="subtotal">$<%= item.price * item.quantity %></span>
            </td>
        </tr>
        <% }) %>
    </table>

    <div class="cart-total">
         <h3>Total: $<%= cart.reduce((acc, item) => acc + item.price * item.quantity, 0) %></h3>
        <form  method="get" action="/checkout">
            <input type="submit" class="checkout-btn" value="Proceed to Checkout" name="">
        </form>
       
         </div>

</section>

</body>
</html>
